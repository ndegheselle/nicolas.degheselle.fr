---
import BlankLayout from "@layouts/BlankLayout.astro";
import CV from "./_CV.svelte";

import { languages } from "@i18n/ui";

export async function getStaticPaths() {
  return Object.keys(languages).map((lang) => ({ params: { lang } }));
}

const { lang } = Astro.params;
const cv = await import(`../../../data/${lang}/cv.json`);
---

<BlankLayout title="CV - Nicolas De Gheselle">
    <CV client:idle {cv} {lang} />
</BlankLayout>

<script>
    window.print();
</script>